{"ast":null,"code":"import _slicedToArray from\"C:/projects/toursim-booking-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Table}from'react-bootstrap';import useAuth from'../../hook/useAuth';import'./Myorder.css';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Myorder=function Myorder(){var _useAuth=useAuth(),user=_useAuth.user;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),myOrders=_useState2[0],setMyOrders=_useState2[1];useEffect(function(){fetch(\"https://boiling-eyrie-00422.herokuapp.com/myOrders/\".concat(user===null||user===void 0?void 0:user.email)).then(function(res){return res.json();}).then(function(data){return setMyOrders(data);});},[user===null||user===void 0?void 0:user.email]);console.log(myOrders);var handleDelete=function handleDelete(id){var proceed=window.confirm(\"Are you sure, you want to delete?\");if(proceed){fetch(\"https://boiling-eyrie-00422.herokuapp.com/orders/\".concat(id),{method:\"DELETE\",headers:{\"content-type\":\"application/json\"}}).then(function(res){return res.json();}).then(function(data){console.log(data);if(data.deletedCount>0){alert(\"Deleted Successfully\");var remainingOrders=myOrders===null||myOrders===void 0?void 0:myOrders.filter(function(myOrder){return myOrder._id!==id;});setMyOrders(remainingOrders);}});}};var handleUpdate=function handleUpdate(id){};return/*#__PURE__*/_jsxs(\"div\",{className:\"myorder-review\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-info m-5\",children:[\"My order: \",myOrders===null||myOrders===void 0?void 0:myOrders.length]}),/*#__PURE__*/_jsxs(Table,{bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Order No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Package Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),myOrders===null||myOrders===void 0?void 0:myOrders.map(function(allOrder,index){return/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:allOrder===null||allOrder===void 0?void 0:allOrder.name}),/*#__PURE__*/_jsx(\"td\",{children:allOrder===null||allOrder===void 0?void 0:allOrder.packajeName}),/*#__PURE__*/_jsx(\"td\",{children:allOrder===null||allOrder===void 0?void 0:allOrder.price}),/*#__PURE__*/_jsx(\"td\",{children:allOrder===null||allOrder===void 0?void 0:allOrder.email}),/*#__PURE__*/_jsx(\"td\",{className:\"text-warning\",children:allOrder===null||allOrder===void 0?void 0:allOrder.status}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleUpdate(allOrder===null||allOrder===void 0?void 0:allOrder._id);},className:\"btn bg-danger p-2\",children:\"Update\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleDelete(allOrder===null||allOrder===void 0?void 0:allOrder._id);},className:\"btn bg-danger p-2\",children:\"Delete\"})]})});})]})]});};export default Myorder;","map":{"version":3,"sources":["C:/projects/toursim-booking-website/src/components/Myorder/Myorder.js"],"names":["React","useEffect","useState","Table","useAuth","Myorder","user","myOrders","setMyOrders","fetch","email","then","res","json","data","console","log","handleDelete","id","proceed","window","confirm","method","headers","deletedCount","alert","remainingOrders","filter","myOrder","_id","handleUpdate","length","map","allOrder","index","name","packajeName","price","status"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Table } from 'react-bootstrap';\r\nimport useAuth from '../../hook/useAuth';\r\nimport './Myorder.css';\r\n\r\nconst Myorder = () => {\r\n    const { user } = useAuth();\r\n    const [myOrders, setMyOrders] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetch(`https://boiling-eyrie-00422.herokuapp.com/myOrders/${user?.email}`)\r\n            .then(res => res.json())\r\n            .then(data => setMyOrders(data));\r\n    }, [user?.email]);\r\n    console.log(myOrders);\r\n\r\n    const handleDelete = (id) => {\r\n        const proceed = window.confirm(\"Are you sure, you want to delete?\");\r\n        if (proceed) {\r\n            fetch(`https://boiling-eyrie-00422.herokuapp.com/orders/${id}`, {\r\n                method: \"DELETE\",\r\n                headers: { \"content-type\": \"application/json\" },\r\n            })\r\n                .then(res => res.json())\r\n                .then(data => {\r\n\r\n                    console.log(data);\r\n                    if (data.deletedCount > 0) {\r\n                        alert(\"Deleted Successfully\");\r\n                        const remainingOrders = myOrders?.filter(myOrder => myOrder._id !== id);\r\n                        setMyOrders(remainingOrders);\r\n                    }\r\n                });\r\n        }\r\n    };\r\n\r\n\r\n    const handleUpdate = (id) => {\r\n\r\n    }\r\n\r\n    return (\r\n        <div className='myorder-review'>\r\n            <h1 className=\"text-info m-5\">My order: {myOrders?.length}</h1>\r\n            <Table bordered hover>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Order No</th>\r\n                        <th>Name</th>\r\n                        <th>Package Name</th>\r\n                        <th>Price</th>\r\n                        <th>Email</th>\r\n                        <th>Status</th>\r\n                        <th>Action</th>\r\n                    </tr>\r\n                </thead>\r\n                {myOrders?.map((allOrder, index) => (\r\n                    <tbody>\r\n                        <tr>\r\n                            <td>{index + 1}</td>\r\n                            <td>{allOrder?.name}</td>\r\n                            <td>{allOrder?.packajeName}</td>\r\n                            <td>{allOrder?.price}</td>\r\n                            <td>{allOrder?.email}</td>\r\n                            <td className=\"text-warning\">{allOrder?.status}</td>\r\n                            <button onClick={() => handleUpdate(allOrder?._id)} className=\"btn bg-danger p-2\">Update</button>\r\n                            <button onClick={() => handleDelete(allOrder?._id)} className=\"btn bg-danger p-2\">Delete</button>\r\n                        </tr>\r\n                    </tbody>\r\n                ))}\r\n            </Table>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Myorder;"]},"metadata":{},"sourceType":"module"}