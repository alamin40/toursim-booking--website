{"ast":null,"code":"import _slicedToArray from\"C:/projects/toursim-booking-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Table}from'react-bootstrap';import useAuth from'../../hook/useAuth';import'./Manageorder.css';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Manageorder=function Manageorder(){var _useAuth=useAuth(),user=_useAuth.user;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allOrder=_useState2[0],setAllOrder=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),control=_useState4[0],setControl=_useState4[1];useEffect(function(){fetch('https://boiling-eyrie-00422.herokuapp.com/manageAllOrder').then(function(res){return res.json();}).then(function(data){return setAllOrder(data);});},[control]);var handleDelete=function handleDelete(id){fetch(\"https://boiling-eyrie-00422.herokuapp.com/deleteOrder/\".concat(id),{method:\"DELETE\"}).then(function(res){return res.json();}).then(function(data){if(data.deletedCount){setControl(!control);}else{setControl(false);}});};return/*#__PURE__*/_jsx(\"div\",{className:\"manage-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"my-5\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Manage All Orders \",allOrder===null||allOrder===void 0?void 0:allOrder.length]}),/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Order No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Package Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),allOrder===null||allOrder===void 0?void 0:allOrder.map(function(allOrder,index){return/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:allOrder===null||allOrder===void 0?void 0:allOrder.name}),/*#__PURE__*/_jsx(\"td\",{children:allOrder===null||allOrder===void 0?void 0:allOrder.packajeName}),/*#__PURE__*/_jsx(\"td\",{children:allOrder===null||allOrder===void 0?void 0:allOrder.price}),/*#__PURE__*/_jsx(\"td\",{children:allOrder===null||allOrder===void 0?void 0:allOrder.email}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleDelete(allOrder===null||allOrder===void 0?void 0:allOrder._id);},className:\"btn bg-danger p-2\",children:\"Delete\"})]})});})]})]})});};export default Manageorder;","map":{"version":3,"sources":["C:/projects/toursim-booking-website/src/components/Manageorder/Manageorder.js"],"names":["React","useEffect","useState","Table","useAuth","Manageorder","user","allOrder","setAllOrder","control","setControl","fetch","then","res","json","data","handleDelete","id","method","deletedCount","length","map","index","name","packajeName","price","email","_id"],"mappings":"0JAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,KAAT,KAAsB,iBAAtB,CACA,MAAOC,CAAAA,OAAP,KAAoB,oBAApB,CACA,MAAO,mBAAP,C,wFAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtB,aAAiBD,OAAO,EAAxB,CAAQE,IAAR,UAAQA,IAAR,CACA,cAAgCJ,QAAQ,CAAC,EAAD,CAAxC,wCAAOK,QAAP,eAAiBC,WAAjB,eACA,eAA8BN,QAAQ,CAAC,KAAD,CAAtC,yCAAOO,OAAP,eAAgBC,UAAhB,eAEAT,SAAS,CAAC,UAAM,CACZU,KAAK,CAAC,0DAAD,CAAL,CACKC,IADL,CACU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADb,EAEKF,IAFL,CAEU,SAAAG,IAAI,QAAIP,CAAAA,WAAW,CAACO,IAAD,CAAf,EAFd,EAGH,CAJQ,CAIN,CAACN,OAAD,CAJM,CAAT,CAMA,GAAMO,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,EAAD,CAAQ,CACzBN,KAAK,iEAA0DM,EAA1D,EAAgE,CACjEC,MAAM,CAAE,QADyD,CAAhE,CAAL,CAGKN,IAHL,CAGU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAHb,EAIKF,IAJL,CAIU,SAAAG,IAAI,CAAI,CACV,GAAIA,IAAI,CAACI,YAAT,CAAuB,CACnBT,UAAU,CAAC,CAACD,OAAF,CAAV,CACH,CAFD,IAEO,CACHC,UAAU,CAAC,KAAD,CAAV,CACH,CACJ,CAVL,EAWH,CAZD,CAcA,mBACI,YAAK,SAAS,CAAC,kBAAf,uBACI,aAAK,SAAS,CAAC,MAAf,wBACI,2CAAuBH,QAAvB,SAAuBA,QAAvB,iBAAuBA,QAAQ,CAAEa,MAAjC,GADJ,cAEI,MAAC,KAAD,EAAO,OAAO,KAAd,CAAe,QAAQ,KAAvB,CAAwB,KAAK,KAA7B,wBACI,oCACI,mCACI,gCADJ,cAEI,4BAFJ,cAGI,oCAHJ,cAII,6BAJJ,cAKI,6BALJ,cAMI,8BANJ,GADJ,EADJ,CAWKb,QAXL,SAWKA,QAXL,iBAWKA,QAAQ,CAAEc,GAAV,CAAc,SAACd,QAAD,CAAWe,KAAX,qBACX,oCACI,mCACI,oBAAKA,KAAK,CAAG,CAAb,EADJ,cAEI,oBAAKf,QAAL,SAAKA,QAAL,iBAAKA,QAAQ,CAAEgB,IAAf,EAFJ,cAGI,oBAAKhB,QAAL,SAAKA,QAAL,iBAAKA,QAAQ,CAAEiB,WAAf,EAHJ,cAII,oBAAKjB,QAAL,SAAKA,QAAL,iBAAKA,QAAQ,CAAEkB,KAAf,EAJJ,cAKI,oBAAKlB,QAAL,SAAKA,QAAL,iBAAKA,QAAQ,CAAEmB,KAAf,EALJ,cAMI,eAAQ,OAAO,CAAE,yBAAMV,CAAAA,YAAY,CAACT,QAAD,SAACA,QAAD,iBAACA,QAAQ,CAAEoB,GAAX,CAAlB,EAAjB,CAAoD,SAAS,CAAC,mBAA9D,oBANJ,GADJ,EADW,EAAd,CAXL,GAFJ,GADJ,EADJ,CA+BH,CAxDD,CA0DA,cAAetB,CAAAA,WAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Table } from 'react-bootstrap';\r\nimport useAuth from '../../hook/useAuth';\r\nimport './Manageorder.css';\r\n\r\nconst Manageorder = () => {\r\n    const { user } = useAuth();\r\n    const [allOrder, setAllOrder] = useState([]);\r\n    const [control, setControl] = useState(false);\r\n\r\n    useEffect(() => {\r\n        fetch('https://boiling-eyrie-00422.herokuapp.com/manageAllOrder')\r\n            .then(res => res.json())\r\n            .then(data => setAllOrder(data));\r\n    }, [control]);\r\n\r\n    const handleDelete = (id) => {\r\n        fetch(`https://boiling-eyrie-00422.herokuapp.com/deleteOrder/${id}`, {\r\n            method: \"DELETE\"\r\n        })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                if (data.deletedCount) {\r\n                    setControl(!control);\r\n                } else {\r\n                    setControl(false);\r\n                }\r\n            })\r\n    };\r\n\r\n    return (\r\n        <div className=\"manage-container\">\r\n            <div className='my-5'>\r\n                <h1>Manage All Orders {allOrder?.length}</h1>\r\n                <Table striped bordered hover>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Order No</th>\r\n                            <th>Name</th>\r\n                            <th>Package Name</th>\r\n                            <th>Price</th>\r\n                            <th>Email</th>\r\n                            <th>Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    {allOrder?.map((allOrder, index) => (\r\n                        <tbody>\r\n                            <tr>\r\n                                <td>{index + 1}</td>\r\n                                <td>{allOrder?.name}</td>\r\n                                <td>{allOrder?.packajeName}</td>\r\n                                <td>{allOrder?.price}</td>\r\n                                <td>{allOrder?.email}</td>\r\n                                <button onClick={() => handleDelete(allOrder?._id)} className=\"btn bg-danger p-2\">Delete</button>\r\n                            </tr>\r\n                        </tbody>\r\n                    ))}\r\n                </Table>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Manageorder;"]},"metadata":{},"sourceType":"module"}