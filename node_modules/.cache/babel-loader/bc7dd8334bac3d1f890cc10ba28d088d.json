{"ast":null,"code":"import _slicedToArray from\"C:/projects/toursim-booking-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Table}from'react-bootstrap';import useAuth from'../../hook/useAuth';import'./Myorder.css';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Myorder=function Myorder(){var _useAuth=useAuth(),user=_useAuth.user;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),myOrders=_useState2[0],setMyOrders=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),control=_useState4[0],setControl=_useState4[1];useEffect(function(){fetch(\"https://boiling-eyrie-00422.herokuapp.com/myOrders/\".concat(user===null||user===void 0?void 0:user.email)).then(function(res){return res.json();}).then(function(data){return setMyOrders(data);});},[user===null||user===void 0?void 0:user.email]);console.log(myOrders);var handleDelete=function handleDelete(id){fetch(\"https://boiling-eyrie-00422.herokuapp.com/deleteOrder/\".concat(id),{method:\"DELETE\"}).then(function(res){return res.json();}).then(function(data){if(data.deletedCount){setControl(!control);}else{setControl(false);}});};var handleUpdate=function handleUpdate(id){};return/*#__PURE__*/_jsxs(\"div\",{className:\"myorder-review\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Manage All Orders : \",myOrders===null||myOrders===void 0?void 0:myOrders.length]}),/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Order No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Package Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),myOrders===null||myOrders===void 0?void 0:myOrders.map(function(allOrder,index){return/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:allOrder===null||allOrder===void 0?void 0:allOrder.name}),/*#__PURE__*/_jsx(\"td\",{children:allOrder===null||allOrder===void 0?void 0:allOrder.packajeName}),/*#__PURE__*/_jsx(\"td\",{children:allOrder===null||allOrder===void 0?void 0:allOrder.price}),/*#__PURE__*/_jsx(\"td\",{children:allOrder===null||allOrder===void 0?void 0:allOrder.email}),/*#__PURE__*/_jsx(\"td\",{children:allOrder===null||allOrder===void 0?void 0:allOrder.status}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleUpdate(allOrder===null||allOrder===void 0?void 0:allOrder._id);},className:\"btn bg-danger p-2\",children:\"Update\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleDelete(allOrder===null||allOrder===void 0?void 0:allOrder._id);},className:\"btn bg-danger p-2\",children:\"Delete\"})]})});})]})]});};export default Myorder;","map":{"version":3,"sources":["C:/projects/toursim-booking-website/src/components/Myorder/Myorder.js"],"names":["React","useEffect","useState","Table","useAuth","Myorder","user","myOrders","setMyOrders","control","setControl","fetch","email","then","res","json","data","console","log","handleDelete","id","method","deletedCount","handleUpdate","length","map","allOrder","index","name","packajeName","price","status","_id"],"mappings":"0JAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,KAAT,KAAsB,iBAAtB,CACA,MAAOC,CAAAA,OAAP,KAAoB,oBAApB,CACA,MAAO,eAAP,C,wFAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CAClB,aAAiBD,OAAO,EAAxB,CAAQE,IAAR,UAAQA,IAAR,CACA,cAAgCJ,QAAQ,CAAC,EAAD,CAAxC,wCAAOK,QAAP,eAAiBC,WAAjB,eACA,eAA8BN,QAAQ,CAAC,KAAD,CAAtC,yCAAOO,OAAP,eAAgBC,UAAhB,eAEAT,SAAS,CAAC,UAAM,CACZU,KAAK,8DAAuDL,IAAvD,SAAuDA,IAAvD,iBAAuDA,IAAI,CAAEM,KAA7D,EAAL,CACKC,IADL,CACU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADb,EAEKF,IAFL,CAEU,SAAAG,IAAI,QAAIR,CAAAA,WAAW,CAACQ,IAAD,CAAf,EAFd,EAGH,CAJQ,CAIN,CAACV,IAAD,SAACA,IAAD,iBAACA,IAAI,CAAEM,KAAP,CAJM,CAAT,CAKAK,OAAO,CAACC,GAAR,CAAYX,QAAZ,EAEA,GAAMY,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,EAAD,CAAQ,CACzBT,KAAK,iEAA0DS,EAA1D,EAAgE,CACjEC,MAAM,CAAE,QADyD,CAAhE,CAAL,CAGKR,IAHL,CAGU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAHb,EAIKF,IAJL,CAIU,SAAAG,IAAI,CAAI,CACV,GAAIA,IAAI,CAACM,YAAT,CAAuB,CACnBZ,UAAU,CAAC,CAACD,OAAF,CAAV,CACH,CAFD,IAEO,CACHC,UAAU,CAAC,KAAD,CAAV,CACH,CACJ,CAVL,EAWH,CAZD,CAcA,GAAMa,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACH,EAAD,CAAQ,CAE5B,CAFD,CAIA,mBACI,aAAK,SAAS,CAAC,gBAAf,wBACI,6CAAyBb,QAAzB,SAAyBA,QAAzB,iBAAyBA,QAAQ,CAAEiB,MAAnC,GADJ,cAEI,MAAC,KAAD,EAAO,OAAO,KAAd,CAAe,QAAQ,KAAvB,CAAwB,KAAK,KAA7B,wBACI,oCACI,mCACI,gCADJ,cAEI,4BAFJ,cAGI,oCAHJ,cAII,6BAJJ,cAKI,6BALJ,cAMI,8BANJ,cAOI,8BAPJ,GADJ,EADJ,CAYKjB,QAZL,SAYKA,QAZL,iBAYKA,QAAQ,CAAEkB,GAAV,CAAc,SAACC,QAAD,CAAWC,KAAX,qBACX,oCACI,mCACI,oBAAKA,KAAK,CAAG,CAAb,EADJ,cAEI,oBAAKD,QAAL,SAAKA,QAAL,iBAAKA,QAAQ,CAAEE,IAAf,EAFJ,cAGI,oBAAKF,QAAL,SAAKA,QAAL,iBAAKA,QAAQ,CAAEG,WAAf,EAHJ,cAII,oBAAKH,QAAL,SAAKA,QAAL,iBAAKA,QAAQ,CAAEI,KAAf,EAJJ,cAKI,oBAAKJ,QAAL,SAAKA,QAAL,iBAAKA,QAAQ,CAAEd,KAAf,EALJ,cAMI,oBAAKc,QAAL,SAAKA,QAAL,iBAAKA,QAAQ,CAAEK,MAAf,EANJ,cAOI,eAAQ,OAAO,CAAE,yBAAMR,CAAAA,YAAY,CAACG,QAAD,SAACA,QAAD,iBAACA,QAAQ,CAAEM,GAAX,CAAlB,EAAjB,CAAoD,SAAS,CAAC,mBAA9D,oBAPJ,cAQI,eAAQ,OAAO,CAAE,yBAAMb,CAAAA,YAAY,CAACO,QAAD,SAACA,QAAD,iBAACA,QAAQ,CAAEM,GAAX,CAAlB,EAAjB,CAAoD,SAAS,CAAC,mBAA9D,oBARJ,GADJ,EADW,EAAd,CAZL,GAFJ,GADJ,CAgCH,CA9DD,CAgEA,cAAe3B,CAAAA,OAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Table } from 'react-bootstrap';\r\nimport useAuth from '../../hook/useAuth';\r\nimport './Myorder.css';\r\n\r\nconst Myorder = () => {\r\n    const { user } = useAuth();\r\n    const [myOrders, setMyOrders] = useState([]);\r\n    const [control, setControl] = useState(false);\r\n\r\n    useEffect(() => {\r\n        fetch(`https://boiling-eyrie-00422.herokuapp.com/myOrders/${user?.email}`)\r\n            .then(res => res.json())\r\n            .then(data => setMyOrders(data));\r\n    }, [user?.email]);\r\n    console.log(myOrders);\r\n\r\n    const handleDelete = (id) => {\r\n        fetch(`https://boiling-eyrie-00422.herokuapp.com/deleteOrder/${id}`, {\r\n            method: \"DELETE\"\r\n        })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                if (data.deletedCount) {\r\n                    setControl(!control);\r\n                } else {\r\n                    setControl(false);\r\n                }\r\n            })\r\n    };\r\n\r\n    const handleUpdate = (id) => {\r\n\r\n    }\r\n\r\n    return (\r\n        <div className='myorder-review'>\r\n            <h1>Manage All Orders : {myOrders?.length}</h1>\r\n            <Table striped bordered hover>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Order No</th>\r\n                        <th>Name</th>\r\n                        <th>Package Name</th>\r\n                        <th>Price</th>\r\n                        <th>Email</th>\r\n                        <th>Status</th>\r\n                        <th>Action</th>\r\n                    </tr>\r\n                </thead>\r\n                {myOrders?.map((allOrder, index) => (\r\n                    <tbody>\r\n                        <tr>\r\n                            <td>{index + 1}</td>\r\n                            <td>{allOrder?.name}</td>\r\n                            <td>{allOrder?.packajeName}</td>\r\n                            <td>{allOrder?.price}</td>\r\n                            <td>{allOrder?.email}</td>\r\n                            <td>{allOrder?.status}</td>\r\n                            <button onClick={() => handleUpdate(allOrder?._id)} className=\"btn bg-danger p-2\">Update</button>\r\n                            <button onClick={() => handleDelete(allOrder?._id)} className=\"btn bg-danger p-2\">Delete</button>\r\n                        </tr>\r\n                    </tbody>\r\n                ))}\r\n            </Table>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Myorder;"]},"metadata":{},"sourceType":"module"}